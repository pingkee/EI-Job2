{"ast":null,"code":"import { ADD_PRODUCT_TO_CART, DECREMENT_CART_ITEM_QUANTITY, INCREMENT_CART_ITEM_QUANTITY, REMOVE_PRODUCT_FROM_CART } from '../actions';\nimport axios from 'axios';\nimport { phones } from \"../data/phones\";\nimport { fakePhones } from \"../data/phones\";\nimport { fakeData } from \"../data/phones\"; // console.log('fakeData: ', fakeData);\n\nconst fakeDatas = axios.get('https://fakestoreapi.com/products');\n\nconst getDataPack = async () => {\n  const dataPack = await axios.get('https://fakestoreapi.com/products');\n  console.log(dataPack);\n  return dataPack.json();\n};\n\nconsole.log('fakeDatass: ', fakeDatas);\nconst initialState = {\n  products: fakeData,\n  cart: []\n};\n\nconst shopReducer = (state = initialState, action) => {\n  let updatedCart;\n  let updatedItemIndex;\n\n  switch (action.type) {\n    case INCREMENT_CART_ITEM_QUANTITY:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n      const incrementedItem = { ...updatedCart[updatedItemIndex]\n      };\n      incrementedItem.quantity++;\n      updatedCart[updatedItemIndex] = incrementedItem;\n      return { ...state,\n        cart: updatedCart\n      };\n\n    case DECREMENT_CART_ITEM_QUANTITY:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n      const decrementedItem = { ...updatedCart[updatedItemIndex]\n      };\n      decrementedItem.quantity--;\n      updatedCart[updatedItemIndex] = decrementedItem;\n      return { ...state,\n        cart: updatedCart\n      };\n\n    case ADD_PRODUCT_TO_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload.id);\n\n      if (updatedItemIndex < 0) {\n        updatedCart.push({ ...action.payload,\n          quantity: 1\n        });\n      } else {\n        const updatedItem = { ...updatedCart[updatedItemIndex]\n        };\n        updatedItem.quantity++;\n        updatedCart[updatedItemIndex] = updatedItem;\n      }\n\n      return { ...state,\n        cart: updatedCart\n      };\n\n    case REMOVE_PRODUCT_FROM_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n      updatedCart.splice(updatedItemIndex, 1);\n      return { ...state,\n        cart: updatedCart\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["/Users/PingKee/Desktop/Full Stack pre-assessment/assignment/Assigment2/src/reducers/shop.reducer.js"],"names":["ADD_PRODUCT_TO_CART","DECREMENT_CART_ITEM_QUANTITY","INCREMENT_CART_ITEM_QUANTITY","REMOVE_PRODUCT_FROM_CART","axios","phones","fakePhones","fakeData","fakeDatas","get","getDataPack","dataPack","console","log","json","initialState","products","cart","shopReducer","state","action","updatedCart","updatedItemIndex","type","findIndex","item","id","payload","incrementedItem","quantity","decrementedItem","push","updatedItem","splice"],"mappings":"AAAA,SACIA,mBADJ,EAEIC,4BAFJ,EAGIC,4BAHJ,EAIIC,wBAJJ,QAKO,YALP;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,gBAArB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,QAAT,QAAyB,gBAAzB,C,CAEA;;AAEA,MAAMC,SAAS,GAAGJ,KAAK,CAACK,GAAN,CAAU,mCAAV,CAAlB;;AAEA,MAAMC,WAAW,GAAI,YAAY;AAC7B,QAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACK,GAAN,CAAU,mCAAV,CAAvB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,SAAOA,QAAQ,CAACG,IAAT,EAAP;AACH,CAJD;;AAKAF,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BL,SAA5B;AACA,MAAMO,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAET,QADO;AAEjBU,EAAAA,IAAI,EAAE;AAFW,CAArB;;AAMA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAmC;AACnD,MAAIC,WAAJ;AACA,MAAIC,gBAAJ;;AAEA,UAAQF,MAAM,CAACG,IAAf;AACI,SAAKrB,4BAAL;AACImB,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CACfC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,OADZ,CAAnB;AAIA,YAAMC,eAAe,GAAG,EACpB,GAAGP,WAAW,CAACC,gBAAD;AADM,OAAxB;AAIAM,MAAAA,eAAe,CAACC,QAAhB;AAEAR,MAAAA,WAAW,CAACC,gBAAD,CAAX,GAAgCM,eAAhC;AAGA,aAAO,EAAC,GAAGT,KAAJ;AAAWF,QAAAA,IAAI,EAAEI;AAAjB,OAAP;;AAEJ,SAAKpB,4BAAL;AACIoB,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CACfC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,OADZ,CAAnB;AAIA,YAAMG,eAAe,GAAG,EACpB,GAAGT,WAAW,CAACC,gBAAD;AADM,OAAxB;AAIAQ,MAAAA,eAAe,CAACD,QAAhB;AAEAR,MAAAA,WAAW,CAACC,gBAAD,CAAX,GAAgCQ,eAAhC;AAEA,aAAO,EAAC,GAAGX,KAAJ;AAAWF,QAAAA,IAAI,EAAEI;AAAjB,OAAP;;AAEJ,SAAKrB,mBAAL;AACIqB,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CAAsBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,OAAP,CAAeD,EAAzD,CAAnB;;AAEA,UAAGJ,gBAAgB,GAAG,CAAtB,EAAyB;AACrBD,QAAAA,WAAW,CAACU,IAAZ,CAAiB,EAAC,GAAGX,MAAM,CAACO,OAAX;AAAoBE,UAAAA,QAAQ,EAAE;AAA9B,SAAjB;AACH,OAFD,MAEO;AACH,cAAMG,WAAW,GAAG,EAChB,GAAGX,WAAW,CAACC,gBAAD;AADE,SAApB;AAIAU,QAAAA,WAAW,CAACH,QAAZ;AACAR,QAAAA,WAAW,CAACC,gBAAD,CAAX,GAAgCU,WAAhC;AACH;;AAED,aAAO,EAAC,GAAGb,KAAJ;AAAWF,QAAAA,IAAI,EAAEI;AAAjB,OAAP;;AACJ,SAAKlB,wBAAL;AACIkB,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CACfC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,OADZ,CAAnB;AAIAN,MAAAA,WAAW,CAACY,MAAZ,CAAmBX,gBAAnB,EAAqC,CAArC;AAEA,aAAO,EAAC,GAAGH,KAAJ;AAAWF,QAAAA,IAAI,EAAEI;AAAjB,OAAP;;AACJ;AACI,aAAOF,KAAP;AA5DR;AA+DH,CAnED;;AAqEA,eAAeD,WAAf","sourcesContent":["import {\n    ADD_PRODUCT_TO_CART,\n    DECREMENT_CART_ITEM_QUANTITY,\n    INCREMENT_CART_ITEM_QUANTITY,\n    REMOVE_PRODUCT_FROM_CART\n} from '../actions';\nimport axios from 'axios';\nimport {phones} from \"../data/phones\";\nimport { fakePhones } from \"../data/phones\";\nimport { fakeData } from \"../data/phones\";\n\n// console.log('fakeData: ', fakeData);\n\nconst fakeDatas = axios.get('https://fakestoreapi.com/products');\n\nconst getDataPack =  async () => {\n    const dataPack = await axios.get('https://fakestoreapi.com/products');\n    console.log(dataPack);\n    return dataPack.json();\n}\nconsole.log('fakeDatass: ', fakeDatas);\nconst initialState = {\n    products: fakeData,\n    cart: []\n};\n\n\nconst shopReducer = (state = initialState, action ) => {\n    let updatedCart;\n    let updatedItemIndex;\n\n    switch (action.type) {\n        case INCREMENT_CART_ITEM_QUANTITY:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            const incrementedItem = {\n                ...updatedCart[updatedItemIndex]\n            };\n\n            incrementedItem.quantity++;\n\n            updatedCart[updatedItemIndex] = incrementedItem;\n\n\n            return {...state, cart: updatedCart};\n\n        case DECREMENT_CART_ITEM_QUANTITY:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            const decrementedItem = {\n                ...updatedCart[updatedItemIndex]\n            };\n\n            decrementedItem.quantity--;\n\n            updatedCart[updatedItemIndex] = decrementedItem;\n\n            return {...state, cart: updatedCart};\n\n        case ADD_PRODUCT_TO_CART:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload.id);\n\n            if(updatedItemIndex < 0) {\n                updatedCart.push({...action.payload, quantity: 1});\n            } else {\n                const updatedItem = {\n                    ...updatedCart[updatedItemIndex]\n                };\n\n                updatedItem.quantity++;\n                updatedCart[updatedItemIndex] = updatedItem;\n            }\n\n            return {...state, cart: updatedCart};\n        case REMOVE_PRODUCT_FROM_CART:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            updatedCart.splice(updatedItemIndex, 1);\n\n            return {...state, cart: updatedCart};\n        default:\n            return state;\n\n    }\n};\n\nexport default shopReducer;\n"]},"metadata":{},"sourceType":"module"}