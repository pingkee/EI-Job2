{"ast":null,"code":"import { ADD_PRODUCT_TO_CART, DECREMENT_CART_ITEM_QUANTITY, INCREMENT_CART_ITEM_QUANTITY, REMOVE_PRODUCT_FROM_CART } from '../actions';\nconst initialState = {\n  products: [],\n  cart: []\n};\n\nconst shopReducer = (state = initialState, action) => {\n  let updatedCart;\n  let updatedItemIndex;\n\n  const getDataPack = async () => {\n    const dataPack = await axios.get('https://fakestoreapi.com/products');\n    console.log(dataPack);\n    return dataPack.json();\n  };\n\n  switch (action.type) {\n    case INCREMENT_CART_ITEM_QUANTITY:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n      const incrementedItem = { ...updatedCart[updatedItemIndex]\n      };\n      incrementedItem.quantity++;\n      updatedCart[updatedItemIndex] = incrementedItem;\n      return { ...state,\n        cart: updatedCart\n      };\n\n    case DECREMENT_CART_ITEM_QUANTITY:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n      const decrementedItem = { ...updatedCart[updatedItemIndex]\n      };\n      decrementedItem.quantity--;\n      updatedCart[updatedItemIndex] = decrementedItem;\n      return { ...state,\n        cart: updatedCart\n      };\n\n    case ADD_PRODUCT_TO_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload.id);\n\n      if (updatedItemIndex < 0) {\n        updatedCart.push({ ...action.payload,\n          quantity: 1\n        });\n      } else {\n        const updatedItem = { ...updatedCart[updatedItemIndex]\n        };\n        updatedItem.quantity++;\n        updatedCart[updatedItemIndex] = updatedItem;\n      }\n\n      return { ...state,\n        cart: updatedCart\n      };\n\n    case REMOVE_PRODUCT_FROM_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n      updatedCart.splice(updatedItemIndex, 1);\n      return { ...state,\n        cart: updatedCart\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["/Users/PingKee/Desktop/Full Stack pre-assessment/assignment/Assigment2/src/reducers/shop.reducer.js"],"names":["ADD_PRODUCT_TO_CART","DECREMENT_CART_ITEM_QUANTITY","INCREMENT_CART_ITEM_QUANTITY","REMOVE_PRODUCT_FROM_CART","initialState","products","cart","shopReducer","state","action","updatedCart","updatedItemIndex","getDataPack","dataPack","axios","get","console","log","json","type","findIndex","item","id","payload","incrementedItem","quantity","decrementedItem","push","updatedItem","splice"],"mappings":"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","sourcesContent":["import {\n    ADD_PRODUCT_TO_CART,\n    DECREMENT_CART_ITEM_QUANTITY,\n    INCREMENT_CART_ITEM_QUANTITY,\n    REMOVE_PRODUCT_FROM_CART\n} from '../actions';\n\n\nconst initialState = {\n    products: [],\n    cart: []\n};\n\n\nconst shopReducer = (state = initialState, action ) => {\n    let updatedCart;\n    let updatedItemIndex;\n\n    const getDataPack =  async () => {\n        const dataPack = await axios.get('https://fakestoreapi.com/products');\n        console.log(dataPack);\n        return dataPack.json();\n    }\n    switch (action.type) {\n        case INCREMENT_CART_ITEM_QUANTITY:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            const incrementedItem = {\n                ...updatedCart[updatedItemIndex]\n            };\n\n            incrementedItem.quantity++;\n\n            updatedCart[updatedItemIndex] = incrementedItem;\n\n\n            return {...state, cart: updatedCart};\n\n        case DECREMENT_CART_ITEM_QUANTITY:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            const decrementedItem = {\n                ...updatedCart[updatedItemIndex]\n            };\n\n            decrementedItem.quantity--;\n\n            updatedCart[updatedItemIndex] = decrementedItem;\n\n            return {...state, cart: updatedCart};\n\n        case ADD_PRODUCT_TO_CART:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload.id);\n\n            if(updatedItemIndex < 0) {\n                updatedCart.push({...action.payload, quantity: 1});\n            } else {\n                const updatedItem = {\n                    ...updatedCart[updatedItemIndex]\n                };\n\n                updatedItem.quantity++;\n                updatedCart[updatedItemIndex] = updatedItem;\n            }\n\n            return {...state, cart: updatedCart};\n        case REMOVE_PRODUCT_FROM_CART:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            updatedCart.splice(updatedItemIndex, 1);\n\n            return {...state, cart: updatedCart};\n        default:\n            return state;\n\n    }\n};\n\nexport default shopReducer;\n"]},"metadata":{},"sourceType":"module"}